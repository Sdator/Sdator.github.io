var t=Object.defineProperty,a=(a,e,n)=>(((a,e,n)=>{e in a?t(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n})(a,"symbol"!=typeof e?e+"":e,n),n);import{c as e,o as n,r as l,p as s,a as o,w as u,b as r,v as d,d as c,t as i,e as b,f as p,F as v,g as f,h as g}from"./vendor.d58fa418.js";const m={setup:t=>(t,a)=>{const s=l("Shuru");return n(),e(s)},__scopeId:"data-v-222b46ad"},h="\n力量\n敏捷\n智力\n生命\n魔法\n法防\n物防\n魔抗\n\n".trim().split("\n");function y(t){return Math.floor(Math.random()*t)}const w=class{constructor(){var t;return a(this,"data",[w.defaultData]),w.T=null!=(t=w.T)?t:this,w.T}get size(){return this.data.length}get list(){return this.data}add(t){t&&(t=Object.assign(w.defaultData,t));const a=Object.assign({},null!=t?t:{"属性":h[y(h.length)],"长度":1,"地址":"0x"+y(1e5).toString(16).toUpperCase(),"数值":y(500)});this.data.push(a),console.log("DB:插入数据")}del(t=this.size-1){this.data.splice(t,1),console.log("DB:删除数据")}};let D=w;a(D,"defaultData",{"属性":"力量","长度":1,"地址":"0x10","数值":500});s("data-v-ad007bb2");const _={class:"inputs"},j=b(" 属性："),U=b(" 长度："),k=b(" 地址："),O=b(" 数值："),x={for:""};o();const B={props:{blob:Object,endian:Boolean,data:{type:Object,default:{"属性":"力量","长度":1,"地址":"0x10","数值":500}}},setup(t){const a=t;return u(a.data,(t=>{if(!a.blob)return;let e=new Number(t.地址);if(e>a.blob.byteLength)return;const n=new DataView(a.blob.value);let l=0;switch(t.长度){case 1:l=n.getUint8(e);break;case 2:l=n.getUint16(e);break;case 4:l=n.getUint32(e);break;default:return}t.数值=l,console.log(n,22222222)})),(a,l)=>(n(),e("div",_,[j,r(c("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=a=>t.data.属性=a)},null,512),[[d,t.data.属性]]),U,r(c("input",{type:"number","onUpdate:modelValue":l[2]||(l[2]=a=>t.data.长度=a)},null,512),[[d,t.data.长度,void 0,{number:!0}]]),k,r(c("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=a=>t.data.地址=a)},null,512),[[d,t.data.地址]]),O,c("label",x,i(t.data.数值),1),c("button",{onClick:l[4]||(l[4]=t=>a.$emit("eDel"))},"❌")]))},__scopeId:"data-v-ad007bb2"};const I={emits:["blob"],setup(t,{emit:a}){const l=p(),s=p(),o=p(),r=t=>{l.value=t.target.files[0],s.value=t.target.value};try{u(s,(async(t,e)=>{""!=s.value&&(o.value=await function(t){return new Promise((a=>{var e=new FileReader;e.onload=function(t){a(t.target.result)},e.readAsArrayBuffer(t)}))}(l.value),a("blob",o))}))}catch(d){console.log(d,"读取文件失败")}return(t,a)=>(n(),e("input",{class:"infile",type:"file",onChange:r},null,32))},__scopeId:"data-v-0c016676"};s("data-v-48055a3c");const C={class:"shuru"},T=c("br",null,null,-1);o();const V={name:"Shuru",components:{Tiaomu:B,InFiles:I}};const F=Object.assign(V,{setup:function(t){const a=p(new D),l=p(a.value.data);u(l.value,((t,a)=>{}));const s=p();function o(t){s.value=t}return(t,u)=>(n(),e("div",C,[c(I,{onBlob:o}),T,c("button",{class:"add",onClick:u[1]||(u[1]=t=>a.value.add())},"添加"),(n(!0),e(v,null,f(l.value,((t,l)=>(n(),e(B,{blob:s.value,key:l,data:t,onEDel:t=>a.value.del(l)},null,8,["blob","data","onEDel"])))),128))]))}});F.__scopeId="data-v-48055a3c";const S={install:function(t){t.component(F.name,F)}};g(m).use(S).mount("#app");
