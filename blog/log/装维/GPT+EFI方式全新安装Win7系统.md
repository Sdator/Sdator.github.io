# []()GPT+EFI方式全新安装Win7系统
---
## 简单介绍

* Win7相信很多人都用过，但你是否知道他的启动方式属于那种呢，其实很多人装的Win7系统都是`MBR+BIOS`的启动方式，他有很多好处特别是`兼容`上，而且很`容易激活`，但相对于`启动速度/安全方面`就比`efi`逊色多了，当然他们之间还有很多不同有兴趣的可以看一下`百度或wiki`，详细的就不多说了

>今天我来教大家如何用`GPT+EFI`的方式来进行全新安装  
这次不需要PE我将采用原生的安装方法

> ## 备份资料

* 首先把硬盘中重要的资料`备份`好，或`移动`到另外一个硬盘中，这里我们需要整个硬盘，而不是单纯的C盘，所以这个硬盘分出来的`c/d/e/f盘`（或者说分区）都会被`删掉`，注意`硬盘`和`分区`的`概念`是不同的。  
`(硬盘 ≠ c/d/e/f盘)`

> ## 系统镜像写进U盘

* 准备好一个空的U盘还有`64位的Win7`镜像文件（`不支持32位`），使用`UltraISO`或微软的`烧写工具`把Win7系统镜像`写进`U盘中，步骤都非常简单
    * `UltraISO`打开ISO文件
    * 选择写入硬盘映像
    * 硬盘那里选择你的U盘

!> 注意的是不要选错硬盘了，否则会直接`格式化`掉你的硬盘。

> ## 添加uefi启动支持并启动U盘

* 这样做好了的U盘暂时还不能使用`uefi`启动，我们到现有的Win7系统中找到`C:\Windows\Boot\EFI\bootmgfw.efi` ,把`bootmgfw.efi`复制到 `U盘:\efi\boot\`目录中并改名为`bootx64.efi`,如果没有boot目录就新建一个。
(据说Win8/Win10的bootmgfw.efi也能搬过来使用，本人还没测试过，如果没有Win7系统的朋友可以试下，这里我只谈本人亲测能用的)

* 重启电脑 进入`bios`把启动方式全改为`efi`,防止主板默认采用`传统的bios启动`方式，我们需要把`cms兼容模式关闭`，确保只用`uefi`启动，然后`把第一启动项改为U盘`。

* 如果不懂设置的小白可以在电脑重启的时候`按F12`打开`启动菜单`并找到`U盘的启动项`，也许你会看到有两个U盘的启动项 一个是带`uefi`字样的一个是不带的，那么你就选择带有uefi字样的然后按回车就能启动起来了。

* 这里的`F12`适合大部分主板尤其是`技嘉主板`，当然还有其他一些主板设置的比较坑可能是`TAB、F1-F3、F9-F11`反正都按一遍准没错的，直到能看到启动项目为止

> ## 格式化/分区

* 这时应该能进入到`Win7`原生的安装画面中，下一步后到了`分区界面`中，这里有一个分支
* 一.有可能你的硬盘已经是`gpt格式`了那么只需要选中原有的系统盘点下一步安装即可。
* 二.大部分情况下你的都是`mbr格式`，不然你也无须看教程了，如果是`mbr`的话也可以参考我之前写的`win10安装教程`。
    * 按下`shift+F10`打开命令终端`diskpart`
    * 输入`list disk`列出所有硬盘
    * 输入`select disk 盘符`选中你的硬盘（`注意:`不要选错了，不然你会后悔的）
    * 输入`CLEAN`删除整个盘
    * 输入`CONVERT GPT`把硬盘转换为GPT格式

    !> 到这步为了预防万一这里我说两个方法，由于刚删除了整个盘默认是没有分区的
        * 一.返回分区界面中刷新，如果找到刚才的硬盘然后按正常分区的操作进行
        * 二.继续敲命令输入 `create part efi size=100` 创建启动分区

        !> 这里我们进行了手动创建启动分区是预防第一种方法中无法自动创建（`当然这种清空比较少见`），从而导致分好区后无法进行安装，接下来按正常分区就可以了，如果你只想分两个区的话下面我会给出对应的命令方法
    
    * 分好区后选中需要安装到的盘符直接点`下一步`等待安装完成即可。

> ## 激活问题

* 最后说一下激活问题，`GPT+EFI`的启动方式不能像以往那样激活，什么`x马`之类都不行的，接下来我们需要一款名叫`chew-wga v0.9`的工具，管理员身份打开它然后点`apply`即可，之后软件会提示重启确认就行。
* 如果你有对应的批量key也可以用kms的方法激活，一次半年

> ## 分区方案

* 1 引导分区 1 系统分区 1 日常分区
    * `引导分区默认是系统创建的隐藏的，所以你只能看到两个分区`
    * `这里假设你的硬盘刚好是空的也就是执行过CLEAN命令或手动删除了所有分区`
    
```bat
create part efi size=100        //创建100M的引导分区

create part prim size=51200     //创建50G的系统分区
assign letter=C                 //给分区指定盘符C

create part prim                //把剩余的空间创建为日常分区
assign letter=D                 //给分区指定盘符D
```
* 其他`分区方案`可以参考以上命令进行`改造`，都是有`规律`了，如果你能`发现`就能成为“`Administrator`”！
* 以上为`GPT+EFI`方式全新`安装Win7`的办法，如果你有`固态硬盘`会发现这种方式的启动`速度`会快不少，虽然没有`Win10`快 哈。

> ## []()最后祝大家新年快乐，学习进步,新的一年有不少坑要开呢！ {docsify-ignore} 
 
> #### []()2019/1/1 PM By：Air